import{r as v,u as C,j as i,a as t}from"./app.7ec90238.js";import"./AdminLayout.d2b384b6.js";import{B as f}from"./Button.265d2887.js";import{T as p}from"./TextInput.3875c2b5.js";import{I as o}from"./InputLabel.dd7424ff.js";import{S as g}from"./Select.606d03ce.js";import{a as h,g as q}from"./String.ccfadc51.js";const z=({default_value:a,companies:l})=>{let n;const[y]=v.exports.useState([0,1]);a?n=a:n={referral:"",date:h(Date()),expiring_date:h(new Date(new Date().getTime()+365*24*60*60*1e3)),company:l[0],type:types[0]};const{data:d,setData:s,post:x,put:w,transform:D}=C({referral:n.referral,date:n.date,expiring_date:n.expiring_date,company_id:n.company.id,type:n.type});console.log(d);const m=e=>{a?w(route("admin.protocols.update",n.id)):x(route("admin.protocols.store"))},u=e=>{e.preventDefault(),s(e.target.name,e.target.value)},c=e=>F=>{s(e,F)};return i(r,{children:[t(r.Row,{children:i(r.Field,{children:[t(o,{forInput:"referral",value:"Riferimento",required:!0}),t(p,{name:"referral",handleChange:e=>u(e),value:d.referral,required:!0,className:"w-full"})]})}),i(r.Row,{children:[i(r.Field,{children:[t(o,{forInput:"date",value:"Data",required:!0}),t(p,{type:"date",name:"date",handleChange:e=>u(e),value:d.date,required:!0,className:"w-full"})]}),i(r.Field,{children:[t(o,{forInput:"expiring_date",value:"Data di scadenza",required:!0}),t(p,{type:"date",name:"expiring_date",handleChange:e=>u(e),value:d.expiring_date,required:!0,className:"w-full"})]})]}),i(r.Row,{children:[i(r.Field,{children:[t(o,{forInput:"company",value:"Azienda",required:!0}),t(g,{people:l,onChange:c("company_id"),initial:n.company,getName:e=>e.id+" - "+e.name})]}),i(r.Field,{children:[t(o,{forInput:"type",value:"Tipo",required:!0}),t(g,{people:y,onChange:c("type"),initial:n.type,getValue:e=>e,getName:e=>q(e)})]})]}),a?t(f,{type:"button",onClick:e=>m(),children:"Modifica"}):t(f,{type:"button",onClick:e=>m(),children:"Aggiungi"})]})},r=({children:a})=>t("form",{children:a}),I=({children:a})=>t("div",{className:"flex justify-between w-full [&>first]:ml-0 [&>last]:mr-0 [&>*]:mx-2 [&>*]:w-full mb-4",children:a}),_=({children:a,widthClass:l})=>t("div",{className:l+" [&>*]>w-full",children:a});r.Row=I;r.Field=_;export{z as P};
