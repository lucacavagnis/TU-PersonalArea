import{r as v,u as q,j as i,a as t}from"./app.49974c07.js";import{B as g}from"./Button.fc16965b.js";import{T as p}from"./TextInput.2a5e1393.js";import{I as o}from"./InputLabel.656c0779.js";import{S as h}from"./Select.b3a17e97.js";import{F as y,g as C}from"./String.db95b830.js";const S=({default_value:a,companies:l})=>{let n;const[s]=v.exports.useState([0,1]);a?n=a:n={referral:"",date:y(Date()),expiring_date:y(new Date(new Date().getTime()+365*24*60*60*1e3)),company:l[0],type:s[0]};const{data:d,setData:m,post:x,put:w}=q({referral:n.referral,date:n.date,expiring_date:n.expiring_date,company_id:n.company.id,type:n.type}),c=()=>{a?w(route("admin.protocols.update",n.id)):x(route("admin.protocols.store"))},u=e=>{e.preventDefault(),m(e.target.name,e.target.value)},f=e=>F=>{m(e,F)};return i(r,{children:[t(r.Row,{children:i(r.Field,{children:[t(o,{forInput:"referral",value:"Riferimento",required:!0}),t(p,{name:"referral",handleChange:e=>u(e),value:d.referral,required:!0,className:"w-full"})]})}),i(r.Row,{children:[i(r.Field,{children:[t(o,{forInput:"date",value:"Data",required:!0}),t(p,{type:"date",name:"date",handleChange:e=>u(e),value:d.date,required:!0,className:"w-full"})]}),i(r.Field,{children:[t(o,{forInput:"expiring_date",value:"Data di scadenza",required:!0}),t(p,{type:"date",name:"expiring_date",handleChange:e=>u(e),value:d.expiring_date,required:!0,className:"w-full"})]})]}),i(r.Row,{children:[i(r.Field,{children:[t(o,{forInput:"company",value:"Azienda",required:!0}),t(h,{people:l,onChange:f("company_id"),initial:n.company,getName:e=>e.id+" - "+e.name})]}),i(r.Field,{children:[t(o,{forInput:"type",value:"Tipo",required:!0}),t(h,{people:s,onChange:f("type"),initial:n.type,getValue:e=>e,getName:e=>C(e)})]})]}),a?t(g,{type:"button",onClick:c,children:"Modifica"}):t(g,{type:"button",onClick:c,children:"Aggiungi"})]})},r=({children:a})=>t("form",{children:a}),I=({children:a})=>t("div",{className:"flex justify-between w-full [&>first]:ml-0 [&>last]:mr-0 [&>*]:mx-2 [&>*]:w-full mb-4",children:a}),_=({children:a,widthClass:l})=>t("div",{className:l+" [&>*]>w-full",children:a});r.Row=I;r.Field=_;export{S as P};
