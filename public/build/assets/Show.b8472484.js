import{j as r,a as t,F as h,u as b,H as y}from"./app.73e76765.js";import{A as f}from"./AdminLayout.9d374397.js";import{T as v}from"./Tab.fa1f7e8c.js";import{B as x}from"./Button.1ebd24a1.js";import{ProductDataTab as _}from"./Show.e61bb6cc.js";import{T as e}from"./Table.b1087b63.js";import{A as N}from"./ActionColumn.19b7e7d4.js";import{a as c}from"./String.ccfadc51.js";import{I as n}from"./InstantSubmitInput.7b2fb3ee.js";import{T as m}from"./TextInput.7cea473b.js";import{I as s}from"./InputLabel.2e8ef07d.js";import"./ApplicationLogo.63312593.js";import"./transition.f8bd1af7.js";import"./index.esm.e717573f.js";import"./tw-merge.25811ea8.js";import"./AuthenticatedLayout.71b1ea15.js";import"./ProductImage.264793d6.js";import"./ReservedPrice.7339d89c.js";import"./Product.6202ec26.js";import"./Pagination.36c02ab2.js";import"./ActionButton.0fbbfeff.js";const g=o=>{console.log(o);let d=o.lots.data,i=o.product;return r(e,{route:route("admin.products.show",i.id),children:[t(e.Search,{}),d&&d.length>0?r(h,{children:[r(e.Inner,{children:[r(e.HeaderRow,{children:[t(e.Header,{name:"id",sortable:!0,children:"ID"}),t(e.Header,{name:"date",sortable:!0,children:"Data"}),t(e.Header,{name:"qty_total",sortable:!0,children:"Qt.\xE0 totale"}),t(e.Header,{name:"qty_available",sortable:!0,children:"Qt.\xE0 disponibile"}),t(e.Header,{children:"Protocollo"}),t(e.Header,{})]}),t(e.Body,{children:d.map(a=>r(e.Row,{children:[r(e.Field,{children:[a.id,"                                        "]}),"                            ",t(e.Field,{children:t(n,{defaultValue:c(a.date),type:"date",id:a.id,name:"date",routeName:"admin.lots.update"})}),t(e.Field,{children:t(n,{min:0,defaultValue:a.qty_total,type:"number",id:a.id,name:"qty_total",routeName:"admin.lots.update"})}),t(e.Field,{children:t(n,{min:0,max:a.qty_total,defaultValue:a.qty_available,type:"number",id:a.id,name:"qty_available",routeName:"admin.lots.update"})}),t(e.Field,{children:a.protocol_lot?a.protocol_lot.protocol.referral:void 0}),t(N,{del:route("admin.lots.destroy",a.id)})]},a.id))})]}),t(e.Pagination,{paginated:o.lots})]}):t("p",{children:"Nessun lotto presente"})]})};function J(o){const{data:d,setData:i,post:a}=b({id:o.product.id,protocol_id:null,date:c(Date()),qty_available:0,qty_total:0}),p=()=>{a(route("admin.lots.store"))},l=u=>{i(u.target.name,u.target.value)};return r(f,{auth:o.auth,errors:o.errors,header:t("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Prodotti"}),children:[t(y,{title:"Aziende"}),t("div",{className:"py-12",children:r("div",{className:"max-w-8xl mx-auto sm:px-6 lg:px-8",children:[t(_,{product:o.product}),r(v,{children:[t("h2",{className:"font-semibold mb-4 border-b ",children:"Lotti del prodotto"}),t(g,{lots:o.lots,product:o.product}),r("div",{className:"flex py-4 pt-4 border-t border-indigo-300",children:[r("div",{className:"mr-4",children:[t(s,{forInput:"date",value:"Data",className:"mb-2"}),t(m,{type:"date",name:"date",value:d.date,handleChange:l})]}),r("div",{className:"mr-4",children:[t(s,{forInput:"date",value:"Qt.\xE0 totale",className:"mb-2"}),t(m,{type:"number",name:"qty_total",value:d.qty_total,min:0,handleChange:l})]}),r("div",{className:"mr-4",children:[t(s,{forInput:"date",value:"Qt.\xE0 disponibile",className:"mb-2"}),t(m,{type:"number",name:"qty_available",value:d.qty_available,min:0,max:d.qty_total,handleChange:l,className:"min-w-[8rem]"})]}),t(x,{type:"button",onClick:p,children:"Aggiungi"})]})]})]})})]})}export{J as default};
