import{a as r,u as I,j as n}from"./app.73e76765.js";import{B as y}from"./Button.1ebd24a1.js";import{T as v}from"./TextInput.7cea473b.js";import{I as o}from"./InputLabel.2e8ef07d.js";import{T as C}from"./TextArea.e26292cb.js";import{S as p}from"./Select.739f28b6.js";import{P as F}from"./ProductImage.264793d6.js";import{t as N}from"./tw-merge.25811ea8.js";const k=({name:i,onChange:l})=>r("input",{className:`text-sm text-grey-500 file:mr-5 file:py-2 file:px-6 file:rounded file:border-0 file:text-sm file:font-medium file:bg-indigo-700 file:text-white hover:file:cursor-pointer hover:file:bg-indigo-500 hover:file:text-white
`,type:"file",name:i,onChange:s=>l(s)}),L=({default_value:i,companies:l,categories:s,subcategories:f})=>{let a;i?a=i:a={name:"",sku:"",desc:"",company:l[0],category:s[0],subcategory:f[0],image:null};const{data:u,setData:g,post:w,put:b}=I({name:a.name,sku:a.sku,desc:a.desc,company_id:a.company.id,category_id:a.category.id,subcategory_id:a.subcategory.id,image:a.image});console.log(u);const h=e=>{e.preventDefault,i?b(route("admin.products.update",a.id),{_method:"put"}):w(route("admin.products.store"))},c=e=>{e.preventDefault(),g(e.target.name,e.target.type==="file"?e.target.files[0]:e.target.value)},m=e=>d=>{g(e,d)},x=e=>{console.log(e);const d="w-20 h-20";return!e||typeof e=="string"||e instanceof String?r(F,{name:e,className:d}):r("img",{src:URL.createObjectURL(e),className:d})};return n(t,{children:[r(t.Row,{children:n(t.Field,{className:"flex items-center",children:[r("div",{className:"mr-4",children:x(u.image)}),n("div",{children:[r(o,{forInput:"image",value:"Immagine",required:!1,className:"mb-2"}),r(k,{name:"image",onChange:c,value:u.image})]})]})}),n(t.Row,{children:[n(t.Field,{children:[r(o,{forInput:"name",value:"Nome",required:!0}),r(v,{name:"name",handleChange:e=>c(e),value:u.name,required:!0,className:"w-full"})]}),n(t.Field,{children:[r(o,{forInput:"sku",value:"SKU",required:!0}),r(v,{name:"sku",handleChange:e=>c(e),value:u.sku,required:!0,className:"w-full"})]})]}),r(t.Row,{children:n(t.Field,{children:[r(o,{forInput:"desc",value:"Descrizione",required:!1}),r(C,{name:"desc",handleChange:e=>c(e),className:"w-full h-[200px]",children:u.desc})]})}),n(t.Row,{children:[n(t.Field,{children:[r(o,{forInput:"company",value:"Azienda",required:!0}),r(p,{people:l,onChange:m("company_id"),initial:a.company,getName:e=>e.id+" - "+e.name})]}),n(t.Field,{children:[r(o,{forInput:"catgeory",value:"Categeoria",required:!0}),r(p,{people:s,onChange:m("category_id"),initial:a.category})]}),n(t.Field,{children:[r(o,{forInput:"subcategpry",value:"Sottocategeoria",required:!1}),r(p,{people:f,onChange:m("subcategory_id"),initial:a.subcategory})]})]}),i?r(y,{type:"button",onClick:e=>h(e),children:"Modifica"}):r(y,{type:"button",onClick:e=>h(e),children:"Aggiungi"})]})},t=({children:i})=>r("form",{children:i}),q=({children:i})=>r("div",{className:"flex justify-between w-full [&>first]:ml-0 [&>last]:mr-0 [&>*]:mx-2 [&>*]:w-full mb-4",children:i}),R=({children:i,widthClass:l,className:s})=>r("div",{className:N(l,s," [&>*]>w-full"),children:i});t.Row=q;t.Field=R;export{L as P};
