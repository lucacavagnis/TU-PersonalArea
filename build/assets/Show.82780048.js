import{a as i,j as e,L as h,H as u,F as p}from"./app.78351115.js";import{P as f,a as c,A as v,B as d}from"./AuthenticatedLayout.ef00b35d.js";import{T as o}from"./Tab.e1f04ee8.js";import{s as b}from"./string.f017bdf8.js";import{S as N}from"./Status.993a674d.js";import"./ApplicationLogo.7addb485.js";import"./transition.fcbacdfa.js";import"./tw-merge.25811ea8.js";import"./attempt.d72dd624.js";function x({order_product:a}){console.log(a);const t=a.order_product_services.length;return i(o,{className:"relative p-4 flex justify-between ",containerClassName:"mb-4",children:[e("div",{className:"w-1/4 mr-4 min-h-[8em]",children:e(f,{name:a.product.image,className:"w-full h-full rounded-md"})}),i("div",{className:"w-3/4 relative",children:[e(h,{className:"font-semibold hover:underline",href:route("products.show",a.product.id),children:a.product.name}),i("p",{className:"text-sm",children:[a.product.prot_number," - ",a.product.prot_date]}),e("p",{className:"text-sm",children:a.quantity+" prodotti richiesti"}),t>0&&e("p",{className:"text-sm text-indigo-700",children:t+" prodotti configurati"}),e(c,{value:a.product.reserved_price*a.quantity,className:"absolute bottom-0 left-0 font-bold"})]})]},a.id)}function A(a){const t=a.order,m=t.order_products.map(s=>e(x,{order_product:s}));let l=0,n=0;return t.order_products.map(s=>{l+=s.quantity,n+=s.product.reserved_price*s.quantity}),i(v,{auth:a.auth,errors:a.errors,header:i("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["Ordine #",t.id]}),children:[e(u,{title:"Ordine #"+t.id+" | Ordini"}),e("div",{className:"py-12",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:i("div",{className:"flex w-full",children:[e("div",{className:"w-2/3 mr-4",children:m}),e("div",{className:"w-1/3 ml-4",children:i(o,{children:[i("div",{className:"mb-4",children:[e("h2",{className:"font-bold mb-4",children:"Stato"}),i(r,{title:"status",children:[e(N,{status:t.status})," "]}),t.status&&t.approver&&t.approved_at&&t.status!=="pending"&&i(p,{children:[e(r,{title:"gestito da",children:t.approver.name}),e(r,{title:"Data gestione",children:t.approved_at})]})]}),e("h2",{className:"font-bold mb-4",children:"Dati ordine"}),i(r,{title:"referente",children:[e("span",{children:t.user.name}),i("a",{className:"block text-sm text-indigo-500",href:"mailto:"+t.user.email,children:[" ",t.user.email]})]}),e(r,{title:"ufficio",children:t.office}),i(r,{title:"indirizzo",children:[e("span",{children:t.place.address_first_line}),e("span",{className:"block",children:t.place.address_second_line})]}),e(r,{title:"numero proddtti",children:l}),e(r,{title:"Totale",children:e(c,{value:n})}),t.status&&t.status==="pending"&&a.auth.user.company.supervision&&a.auth.user.role===1&&i("div",{className:"flex",children:[e(d,{className:"mr-2",href:route("orders.approve",t.id),children:"Approva"}),e(d,{className:"bg-white text-rose-700 border border-rose-700 hover:bg-rose-700 hover:text-white",href:route("orders.reject",t.id),children:"Rifiuta"})]})]})})]})})})]})}const r=({title:a,children:t})=>i("div",{children:[e("h4",{className:"font-bold",children:b.capitalize(a)}),e("p",{className:"mb-2 border-b border-slate-300 pb-2 text-slate-700",children:t})]});export{A as default};
